<my-modal-process-po ui-id="search_purchase_order_id"></my-modal-process-po>
<my-header ng-show="!is_amp_guest"></my-header>
<my-sidebar ng-show="!is_amp_guest"></my-sidebar>

<div class="content-wrapper" style="min-height: 648px;">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Enter store details
        </h1>
        <ol class="breadcrumb">
            <li><a ui-sref="home"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> Home</a></li>
            <li class="active">Enter store details</li>
        </ol>
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="row" ng-show="init_loaded">
            <div class="col-md-12">
                <ol class="breadcrumb tool_box">
                    <li><b>Store actions</b></li>
                    <li><a ui-sref="store-list">Store list</a></li>
                    <li class="active"><a ui-sref="store-create" ui-sref-opts="{reload: true, notify: true}">Add new store</a></li>
                </ol>
                <!-- general form elements -->
                <div class="box overhidden top_box">
                    <div class="col-md-7">
                        <button type="button" ng-click="delete()" class="btn btn-primary pull-right margin-5">Delete</button>
                        <a ui-sref="store-view({'id':store.id})" class="btn btn-success pull-right margin-5">View</a>
                        <button type="button" ng-click="update()" class="btn btn-primary pull-right margin-5" ng-show="is_update">Save</button>
                    </div>
                    <div class="col-md-5">
                        <button type="button" ng-click="copyStore()" class="btn btn-primary pull-right margin-5" ng-show="is_update">Copy</button>
                        <button type="button" ng-click="exportPdf()" class="btn btn-success pull-right margin-5"><i class="fa fa-file-pdf-o"></i> Export Pdf</button>
                        <button type="button" ng-click="exportExcel()" class="btn btn-primary pull-right margin-5"><i class="fa fa-file-excel-o"></i> Export Excel</button>
                    </div>
                </div>
            </div>
            <div class="col-md-12">
<!--                <div class="box no-border overhidden">
                    <div class="box-body">-->
                        <h2 class="object-title">
                            STORE #{{store.store_number}} - {{store.name}}
                        </h2>
<!--                    </div>
                </div>-->
            </div>
            <div class="col-md-12">
                <div class="box no-border collapsed-box overhidden">
                    <div class="box-header">
                        <h3 class="box-title">Contact Information</h3>
                        <div class="box-tools pull-right">
                            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus box-title"></i>
                            </button>
                        </div>
                    </div>
                    <div class="box-body">
                        <div class="col-md-6">
                            <!-- general form elements -->
                            <!-- form start -->
                            <form role="form">
                                <div class="row form-group" ng-class="{'has-error': store_error.name.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label>Name <span class="required">*</span></label>
                                    </div>
                                    <div class="col-md-9">
                                        <input ng-model="store.name" type="text" class="form-control" placeholder="name">
                                        <span class="control-label" for="inputError" ng-show="store_error.name.length != 0" ng-repeat="error in store_error.name">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>

                                <div class="row form-group" ng-class="{'has-error': store_error.store_number.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label>Store number <span class="required">*</span></label>
                                    </div>
                                    <div class="col-md-9">
                                        <input ng-model="store.store_number" type="text" class="form-control" placeholder="store number">
                                        <span class="control-label" for="inputError" ng-show="store_error.store_number.length != 0" ng-repeat="error in store_error.store_number">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>

                                <div class="row form-group" ng-class="{'has-error': store_error.contact_name.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label>Area Manager <span class="required">*</span></label>
                                    </div>
                                    <div class="col-md-9">
                                        <input ng-model="store.contact_name" type="text" class="form-control" placeholder="contact name">
                                        <span class="control-label" for="inputError" ng-show="store_error.contact_name.length != 0" ng-repeat="error in store_error.contact_name">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>

                                <div class="row form-group" ng-class="{'has-error': store_error.franchisee_name.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label>Franchisee name <span class="required">*</span></label>
                                    </div>
                                    <div class="col-md-9">
                                        <input ng-model="store.franchisee_name" type="text" class="form-control" placeholder="franchisee name">
                                        <span class="control-label" for="inputError" ng-show="store_error.franchisee_name.length != 0" ng-repeat="error in store_error.franchisee_name">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>

                                <div class="row form-group" ng-class="{'has-error': store_error.tier_id.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label for="" >Tier <span class="required">*</span></label></br>
                                    </div>
                                    <div class="col-md-9">
                                        <select chosen class="form-control" ng-model="store.tier_id" ng-options="item.id as item.name for item in tiers" data-placeholder="Choose tier ...">
                                        </select>
                                        <span class="control-label" for="inputError" ng-show="store_error.tier_id.length != 0" ng-repeat="error in store_error.tier_id">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>

                                <div class="row form-group" ng-class="{'has-error': store_error.email.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label>Email</label></br>
                                    </div>
                                    <div class="col-md-9">
                                        <input ng-model="store.email" type="text" class="form-control" placeholder="email">
                                        <span class="control-label" for="inputError" ng-show="store_error.email.length != 0" ng-repeat="error in store_error.email">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>

                                <div class="row form-group" ng-class="{'has-error': store_error.phone.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label>Phone</label></br>
                                    </div>
                                    <div class="col-md-9">
                                        <input ng-model="store.phone" type="text" class="form-control" placeholder="phone">
                                        <span class="control-label" for="inputError" ng-show="store_error.phone.length != 0" ng-repeat="error in store_error.phone">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>

                                <div class="row form-group none" ng-class="{'has-error': store_error.fax.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label>Fax</label></br>
                                    </div>
                                    <div class="col-md-9">
                                        <input ng-model="store.fax" type="text" class="form-control" placeholder="fax">
                                        <span class="control-label" for="inputError" ng-show="store_error.fax.length != 0" ng-repeat="error in store_error.fax">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>
                            </form>
                        </div><!--/.col (left) -->
                        <div class="col-md-6">
                            <!-- general form elements disabled -->
                            <form role="form">
                                <div class="row form-group" ng-class="{'has-error': store_error.open_date.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label for="">Open date</label> </br>
                                    </div>
                                    <div class="col-md-9">
                                        <input ng-model="store.open_date" type="text" class="form-control datepicker" placeholder="open date">
                                        <span class="control-label" for="inputError" ng-show="store_error.open_date.length != 0" ng-repeat="error in store_error.open_date">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>

                                <div class="row form-group" ng-class="{'has-error': store_error.address1.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label for="">Address</label> </br>
                                    </div>
                                    <div class="col-md-9">
                                        <input ng-model="store.address1" type="text" class="form-control" placeholder="address 1">
                                        <span class="control-label" for="inputError" ng-show="store_error.address1.length != 0" ng-repeat="error in store_error.address1">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>

                                <div class="row form-group none" ng-class="{'has-error': store_error.address2.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label for="">Address 2</label> </br>
                                    </div>
                                    <div class="col-md-9">
                                        <input ng-model="store.address2" type="text" class="form-control" placeholder="address 2">
                                        <span class="control-label" for="inputError" ng-show="store_error.address2.length != 0" ng-repeat="error in store_error.address2">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>

                                <div class="row form-group" ng-class="{'has-error': store_error.city.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label for="">City</label> </br>
                                    </div>
                                    <div class="col-md-9">
                                        <input ng-model="store.city" type="text" class="form-control" placeholder="city">
                                        <span class="control-label" for="inputError" ng-show="store_error.city.length != 0" ng-repeat="error in store_error.city">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>

                                <div class="row form-group" ng-class="{'has-error': store_error.zipcode.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label for="">Zip code <br/> Postal code</label> </br>
                                    </div>
                                    <div class="col-md-9">
                                        <input ng-model="store.zipcode" type="text" class="form-control" placeholder="zip code / postal code">
                                        <span class="control-label" for="inputError" ng-show="store_error.zipcode.length != 0" ng-repeat="error in store_error.zipcode">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>

                                <div class="row form-group" ng-class="{'has-error': store_error.state_id.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label for="" >State / Province</label></br>
                                    </div>
                                    <div class="col-md-9">
                                        <select chosen class="form-control" required ng-model="store.state_id" ng-options="item.id as item.state_short for item in states" data-placeholder="Choose a state ...">
                                            <option value="">---</option>
                                        </select>
                                        <span class="control-label" for="inputError" ng-show="store_error.state_id.length != 0" ng-repeat="error in store_error.state_id">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>

                                <div class="row form-group" ng-class="{'has-error': store_error.country.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label for="" >Country</label>
                                    </div>
                                    <div class="col-md-9">
                                        <input ng-model="store.country" type="text" class="form-control" placeholder="country">
                                        <span class="control-label" for="inputError" ng-show="store_error.country.length != 0" ng-repeat="error in store_error.country">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>
                                
                                <div class="row form-group" ng-class="{'has-error': store_error.layout_file_id.length != 0}">
                                    <div class="col-md-3 text-right">
                                        <label>Layout file</label>
                                    </div>
                                    <div class="col-md-9">
                                        <file-uploader-single option-style="'full'" file-id="store.layout_file_id" model-id="store.id" field-id="'layout_file_id'"></file-uploader-single>
                                        <span class="control-label" for="inputError" ng-show="store_error.layout_file_id.length != 0" ng-repeat="error in store_error.layout_file_id">
                                            <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                        </span>
                                    </div>
                                </div>
                            </form>
                        </div>
                        
                        <div class="clearfix"></div>
                        <div class="col-md-6">
                            <div class="box no-border">
                                <div class="box-header">
                                    <h3 class="box-title">Store information card</h3>
                                </div>
                                <div class="box-body overhidden" id="store_card">
                                    ID: {{store.id}}
                                    <br />Name: {{store.name}}
                                    <br />Email: {{store.email}}
                                    <br />Phone: {{store.phone}}
                                    <br />Store Address: {{store.address1}}
                                    <br />City: {{store.city}}
                                    <br />State/Province: {{store.state_name}}
                                    <br />Zipcode/Postal Code: {{store.zipcode}}
                                </div>
                                <div class="box-footer">
                                    <button class="btn btn-info" type="button" clip-copy="getStoreCard()" clip-click="copyToClipboard()">Copy to clipboard</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-6">
                        <div class="box no-border no-bg">
                            <div class="form-group" ng-class="{'has-error': store_error.image_id.length != 0}">
                                <file-uploader-single option-style="'image'" file-id="store.image_id" model-id="store.id" field-id="'image_id'"></file-uploader-single>
                                <span class="control-label" for="inputError" ng-show="store_error.image_id.length != 0" ng-repeat="error in store_error.image_id">
                                    <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                </span>
                                <p class="text-center text-dark-blue file-title">Store Image</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="box no-border no-bg">
                            <div class="form-group" ng-class="{'has-error': store_error.layout_id.length != 0}">
                                <file-uploader-single option-style="'image'" file-id="store.layout_id" model-id="store.id" field-id="'layout_id'"></file-uploader-single>
                                <span class="control-label" for="inputError" ng-show="store_error.layout_id.length != 0" ng-repeat="error in store_error.layout_id">
                                    <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                </span>
                                <p class="text-center text-dark-blue file-title">Store Layout</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-6">
                        <div class="box no-border collapsed-box">
                            <div class="box-header">
                                <h3 class="box-title">Store signage</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus box-title"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="box-body">
                                <div class="search_box">
                                    <form role="form">
                                        <div class="row form-group" style="min-height: 40px; margin-bottom: 0;">
                                            <div class="col-xs-3">
                                                <button ng-click="store_signage_form.addStoreSignage()" class="btn btn-info pull-left">Add signage</button>
                                            </div>
                                            <div class="col-xs-6 pull-right">
                                                <div class="btn-group pull-right"> 
                                                    <button type="button" class="btn btn-primary" ng-click="exportExcelListSignage()"><i class="fa fa-file-excel-o"></i> Excel</button> 
                                                    <button type="button" class="btn btn-success" ng-click="exportExcelListSignage('pdf')"><i class="fa fa-file-pdf-o"></i> Pdf</button> 
                                                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> 
                                                        <span class="caret"></span> 
                                                        <span class="sr-only">Toggle Dropdown</span> 
                                                    </button> 
                                                    <ul class="dropdown-menu"> 
                                                        <form id="export-excel-signage-column">
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[_no]" data-column="_no" value="1" checked /> # 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[img__image_id]" data-column="img__image_id" value="1" checked /> Specification Image 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[img__example_image]" data-column="img__example_image" value="1" checked /> Example Image 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[code]" data-column="code" value="1" checked /> Code 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[category_name]" data-column="category_name" value="1" checked /> Category 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[location]" data-column="location" value="1" checked /> Location 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[description]" data-column="description" value="1" checked /> Description 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[size]" data-column="size" value="1" checked /> Size 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[material]" data-column="material" value="1" checked /> Material 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[vendor]" data-column="vendor" value="1" checked /> Vendor 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[mounting]" data-column="mounting" value="1" checked /> Mounting 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[changes_seasonally]" data-column="changes_seasonally" value="1" checked /> Changes Seasonally 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[power_required]" data-column="power_required" value="1" checked /> Power Required 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelSignageColumn[language]" data-column="language" value="1" checked /> Language 
                                                            </li>
                                                        </form>
                                                    </ul> 
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row form-group" style="min-height: 40px; margin-bottom: 0;">
                                            <div class="col-xs-3">
                                                <select class="form-control" ng-model="store_signage_list.search_signage.category_id" ng-options="item.id as item.name for item in store_signage_list.signage_categories" ng-enter="store_signage_list.search()" placeholder="search category...">
                                                    <option value="">[Select category]</option>
                                                </select>
                                            </div>
                                            <div class="col-xs-3">
                                                <input ng-model="store_signage_list.search_signage.code" type="text" class="form-control" placeholder="search code..." ng-enter="store_signage_list.search()">
                                            </div>
                                            <div class="col-xs-3">
                                                <div id="search_signage_final" style="display: none" 
                                                     data-category_id=""
                                                     data-code=""></div>
                                                <button type="button" ng-click="store_signage_list.search()" class="btn btn-primary">Search</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div id="example2_wrapper" class="dataTables_wrapper form-inline" role="grid">
                                    <div class="row">
                                        <div class="col-xs-6"></div>
                                        <div class="col-xs-6 pull-right">
                                            <div id="example1_length" class="dataTables_length">
                                                <label>records per page
                                                    <select ng-model="store_signage_list.itemsByPage" ng-options="item.value as item.name for item in store_signage_list.itemsByPages"></select>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="table-scroll-1">
                                        <table id="example2" class="table table-bordered table-hover table-condensed dataTable" aria-describedby="example2_info">
                                            <thead>
                                                <tr role="row">
                                                    <th>#</th>
                                                    <th>Specification Image</th>
                                                    <th>Example Image</th>
                                                    <th ng-class="{sorting: store_signage_list.sort.attribute != 'code', sorting_asc: store_signage_list.sort.attribute == 'code' && store_signage_list.sort.type == 'ASC', sorting_desc: store_signage_list.sort.attribute == 'code' && store_signage_list.sort.type == 'DESC'}" ng-click="store_signage_list.sort('code')" rowspan="1" colspan="1">Code</th>
                                                    <th class="hidden" ng-class="{sorting: store_signage_list.sort.attribute != 'store_signage_code', sorting_asc: store_signage_list.sort.attribute == 'store_signage_code' && store_signage_list.sort.type == 'ASC', sorting_desc: store_signage_list.sort.attribute == 'store_signage_code' && store_signage_list.sort.type == 'DESC'}" ng-click="store_signage_list.sort('store_signage_code')" rowspan="1" colspan="1">Code detail</th>
                                                    <th ng-class="{sorting: store_signage_list.sort.attribute != 'category_id', sorting_asc: store_signage_list.sort.attribute == 'category_id' && store_signage_list.sort.type == 'ASC', sorting_desc: store_signage_list.sort.attribute == 'category_id' && store_signage_list.sort.type == 'DESC'}" ng-click="store_signage_list.sort('category_id')" rowspan="1" colspan="1">Category</th>
                                                    <th ng-class="{sorting: store_signage_list.sort.attribute != 'location', sorting_asc: store_signage_list.sort.attribute == 'location' && store_signage_list.sort.type == 'ASC', sorting_desc: store_signage_list.sort.attribute == 'location' && store_signage_list.sort.type == 'DESC'}" ng-click="store_signage_list.sort('location')" rowspan="1" colspan="1">Location</th>
                                                    <th rowspan="1" colspan="1">Description</th>
                                                    <th rowspan="1" colspan="1">Actions</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody role="alert" aria-live="polite" aria-relevant="all">
                                                <tr class="even" ng-repeat="signage in store_signage_list.signages">
                                                    <td>{{$index + 1}}</td>
                                                    <td>
                                                        <img class="thumbnail" style="width: 40px; height: 40px" src="{{signage.image_id_url}}" />
                                                    </td>
                                                    <td>
                                                        <img class="thumbnail" style="width: 40px; height: 40px" src="{{signage.example_image_url}}" />
                                                    </td>
                                                    <td><a target=_blank ui-sref="signage-detail({'id':signage.id})">{{signage.code}}</a></td>
                                                    <td class="hidden">{{signage.store_signage_code}}</td>
                                                    <td class=" ">{{signage.category_name}}</td>
                                                    <td class=" ">{{signage.location}}</td>
                                                    <td class=" ">{{signage.short_description}}</td>
<!--                                                    <td class=" ">
                                                        <button class="btn-icon btn-info" ng-click="store_signage_list.updateStoreSignage(signage)"><span class="glyphicon glyphicon-pencil"></span></button>
                                                        <button class="btn-icon btn-danger" ng-click="store_signage_list.removeStoreSignage(signage.store_signage_id)"><span class="glyphicon glyphicon-trash"></span></button>
                                                    </td>-->
                                                    <td class="text-center btn-tools">
                                                        <div class="btn-group dropdown">
                                                            <a href="#" data-toggle="dropdown" class="btn">
                                                                <i class="fa fa-th"></i>
                                                            </a>
                                                            <ul class="dropdown-menu no-angle pull-right right">
                                                                <li>
                                                                    <a target="_blank" class="text-blue" ui-sref="signage-view({'id':signage.id})"><i class="fa fa-eye"></i> View</a>
                                                                </li>
                                                                <li ng-show="root.is_superadmin">
                                                                    <a class="text-green" href="#" ng-click="store_signage_list.updateStoreSignage(signage)"><i class="fa fa-pencil-square"></i> Edit</a>
                                                                </li>
                                                                <li ng-show="root.is_superadmin">
                                                                    <a class="text-yellow" href="#" ng-click="store_signage_list.removeStoreSignage(signage.store_signage_id)"><i class="fa fa-trash-o"></i> Delete</a>
                                                                </li>
                                                                <li ng-show="root.is_superadmin">
                                                                    <a class="text-yellow" href="#" ng-click="copySignage(signage)"><i class="glyphicon glyphicon-copy"></i> Copy</a>
                                                                </li>
                                                                <li>
                                                                    <a class="text-blue" href="javascript:void(0)" ng-click="exportPdfItemSignage(signage)"><i class="fa fa-file-pdf-o"></i> Export Pdf</a>
                                                                </li>
                                                                <li>
                                                                    <a class="text-red" href="javascript:void(0)" ng-click="exportExcelItemSignage(signage)"><i class="fa fa-file-excel-o"></i> Export Excel</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <input type="checkbox" name="selectedSignages[]" ng-click="toggleSignageSelection(signage.id)" />
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-6">
                                            <div class="dataTables_info" id="example2_info">
                                                Showing {{store_signage_list.start_signage}} to {{store_signage_list.end_signage}} of {{store_signage_list.totalresults}} entries
                                            </div>
                                        </div>
                                        <div class="col-xs-6" ng-show="store_signage_list.pages.length > 1">
                                            <div class="dataTables_paginate paging_bootstrap">
                                                <ul class="pagination">
                                                    <li class="prev" ng-class="{disabled: store_signage_list.currentPage == 1}">
                                                        <a href="" ng-click="store_signage_list.selectPage(store_signage_list.currentPage - 1)">← Previous</a>
                                                    </li>
                                                    <li ng-repeat="page in store_signage_list.pages" ng-class="{active: page == store_signage_list.currentPage}" >
                                                        <a href="" ng-click="store_signage_list.selectPage(page)">{{page}}</a>
                                                    </li>
                                                    <li class="next" ng-class="{disabled: store_signage_list.currentPage == store_signage_list.pages.length}">
                                                        <a href="" ng-click="store_signage_list.selectPage(store_signage_list.currentPage + 1)">Next → </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div><!-- /.box-body -->
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="box no-border collapsed-box">
                            <div class="box-header">
                                <h3 class="box-title">Store fixtures</h3>
								<div class="box-tools pull-right">
									<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus box-title"></i>
									</button>
								</div>
                            </div>
                            <div class="box-body">
                                <div class="search_box">
                                    <form role="form">
                                        <div class="row form-group" style="min-height: 40px; margin-bottom: 0;">
                                            <div class="col-xs-3">
                                                <button ng-click="store_fixture_form.addStoreFixture()" class="btn btn-info pull-left">Add fixture</button>
                                            </div>
                                            <div class="col-xs-6 pull-right">
                                                <div class="btn-group pull-right"> 
                                                    <button type="button" class="btn btn-primary" ng-click="exportExcelListFixture()"><i class="fa fa-file-excel-o"></i> Excel</button> 
                                                    <button type="button" class="btn btn-success" ng-click="exportExcelListFixture('pdf')"><i class="fa fa-file-pdf-o"></i> Pdf</button> 
                                                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> 
                                                        <span class="caret"></span> 
                                                        <span class="sr-only">Toggle Dropdown</span> 
                                                    </button> 
                                                    <ul class="dropdown-menu"> 
                                                        <form id="export-excel-fixture-column">
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelFixtureColumn[_no]" data-column="_no" value="1" checked /> # 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelFixtureColumn[img__image_id]" data-column="img__image_id" value="1" checked /> Image 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelFixtureColumn[code]" data-column="code" value="1" checked /> Code 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelFixtureColumn[category_name]" data-column="category_name" value="1" checked /> Category 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelFixtureColumn[size]" data-column="size" value="1" checked /> Size 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelFixtureColumn[location]" data-column="location" value="1" checked /> Location 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelFixtureColumn[vendor]" data-column="vendor" value="1" checked /> vendor 
                                                            </li>
                                                            <li style="padding:0 15px">
                                                                <input type="checkbox" name="ExportExcelFixtureColumn[description]" data-column="description" value="1" checked /> Description 
                                                            </li>
                                                        </form>
                                                    </ul> 
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row form-group" style="min-height: 40px; margin-bottom: 0;">
                                            <div class="col-xs-3">
                                                <select class="form-control" ng-model="store_fixture_list.search_fixture.category_id" ng-options="item.id as item.name for item in store_fixture_list.fixture_categories" ng-enter="store_fixture_list.search()" placeholder="search category...">
                                                    <option value="">[Select category]</option>
                                                </select>
                                            </div>
                                            <div class="col-xs-3">
                                                <input ng-model="store_fixture_list.search_fixture.code" type="text" class="form-control" placeholder="search code..." ng-enter="store_fixture_list.search()">
                                            </div>
                                            <div class="col-xs-3">
                                                <div id="search_fixture_final" style="display: none" 
                                                     data-category_id=""
                                                     data-code=""></div>
                                                <button type="button" ng-click="store_fixture_list.search()" class="btn btn-primary">Search</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div id="example2_wrapper" class="dataTables_wrapper form-inline" role="grid">
                                    <div class="row">
                                        <div class="col-xs-6"></div>
                                        <div class="col-xs-6 pull-right">
                                            <div id="example1_length" class="dataTables_length">
                                                <label>records per page
                                                    <select ng-model="store_fixture_list.itemsByPage" ng-options="item.value as item.name for item in store_fixture_list.itemsByPages"></select>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="table-scroll-1">
                                        <table id="example2" class="table table-bordered table-hover table-condensed dataTable" aria-describedby="example2_info">
                                            <thead>
                                                <tr role="row">
                                                    <th>#</th>
                                                    <th>Image</th>
                                                    <th ng-class="{sorting: store_fixture_list.sort.attribute != 'code', sorting_asc: store_fixture_list.sort.attribute == 'code' && store_fixture_list.sort.type == 'ASC', sorting_desc: store_fixture_list.sort.attribute == 'code' && store_fixture_list.sort.type == 'DESC'}" ng-click="store_fixture_list.sort('code')" rowspan="1" colspan="1">Code</th>
                                                    <th class="hidden" ng-class="{sorting: store_fixture_list.sort.attribute != 'store_fixture_code', sorting_asc: store_fixture_list.sort.attribute == 'store_fixture_code' && store_fixture_list.sort.type == 'ASC', sorting_desc: store_fixture_list.sort.attribute == 'store_fixture_code' && store_fixture_list.sort.type == 'DESC'}" ng-click="store_fixture_list.sort('store_fixture_code')" rowspan="1" colspan="1">Code detail</th>
                                                    <th ng-class="{sorting: store_fixture_list.sort.attribute != 'category_id', sorting_asc: store_fixture_list.sort.attribute == 'category_id' && store_fixture_list.sort.type == 'ASC', sorting_desc: store_fixture_list.sort.attribute == 'category_id' && store_fixture_list.sort.type == 'DESC'}" ng-click="store_fixture_list.sort('category_id')" rowspan="1" colspan="1">Category</th>
                                                    <th rowspan="1" colspan="1">Description</th>
                                                    <th>Actions</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody role="alert" aria-live="polite" aria-relevant="all">
                                                <tr class="even" ng-repeat="fixture in store_fixture_list.fixtures">
                                                    <td>{{$index + 1}}</td>
                                                    <td>
                                                        <img class="thumbnail" style="width: 40px; height: 40px" src="{{fixture.image_id_url}}" />
                                                    </td>
                                                    <td><a target=_blank ui-sref="fixture-detail({'id':fixture.id})">{{fixture.code}}</a></td>
                                                    <td class="hidden">{{fixture.store_fixture_code}}</td>
                                                    <td class=" ">{{fixture.category_name}}</td>
                                                    <td class=" ">{{fixture.short_description}}</td>
<!--                                                    <td class=" ">
                                                        <button class="btn-icon btn-info" ng-click="store_fixture_list.updateStoreFixture(fixture)"><span class="glyphicon glyphicon-pencil"></span></button>
                                                        <button class="btn-icon btn-danger" ng-click="store_fixture_list.removeStoreFixture(fixture.store_fixture_id)"><span class="glyphicon glyphicon-trash"></span></button>
                                                    </td>-->
                                                    <td class="text-center btn-tools">
                                                        <div class="btn-group dropdown">
                                                            <a href="#" data-toggle="dropdown" class="btn">
                                                                <i class="fa fa-th"></i>
                                                            </a>
                                                            <ul class="dropdown-menu no-angle pull-right right">
                                                                <li>
                                                                    <a target="_blank" class="text-blue" ui-sref="fixture-view({'id':fixture.id})"><i class="fa fa-eye"></i> View</a>
                                                                </li>
                                                                <li ng-show="root.is_superadmin">
                                                                    <a class="text-green" href="#" ng-click="store_fixture_list.updateStoreFixture(fixture)"><i class="fa fa-pencil-square"></i> Edit</a>
                                                                </li>
                                                                <li ng-show="root.is_superadmin">
                                                                    <a class="text-yellow" href="#" ng-click="store_fixture_list.removeStoreFixture(fixture.store_fixture_id)"><i class="fa fa-trash-o"></i> Delete</a>
                                                                </li>
                                                                <li ng-show="root.is_superadmin">
                                                                    <a class="text-yellow" href="#" ng-click="copyFixture(fixture)"><i class="glyphicon glyphicon-copy"></i> Copy</a>
                                                                </li>
                                                                <li>
                                                                    <a class="text-blue" href="javascript:void(0)" ng-click="exportPdfItemFixture(fixture)"><i class="fa fa-file-pdf-o"></i> Export Pdf</a>
                                                                </li>
                                                                <li>
                                                                    <a class="text-red" href="javascript:void(0)" ng-click="exportExcelItemFixture(fixture)"><i class="fa fa-file-excel-o"></i> Export Excel</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <input type="checkbox" name="selectedFixtures[]" ng-click="toggleFixtureSelection(fixture.id)" />
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-6">
                                            <div class="dataTables_info" id="example2_info">
                                                Showing {{store_fixture_list.start_fixture}} to {{store_fixture_list.end_fixture}} of {{store_fixture_list.totalresults}} entries
                                            </div>
                                        </div>
                                        <div class="col-xs-6" ng-show="store_fixture_list.pages.length > 1">
                                            <div class="dataTables_paginate paging_bootstrap">
                                                <ul class="pagination">
                                                    <li class="prev" ng-class="{disabled: store_fixture_list.currentPage == 1}">
                                                        <a href="" ng-click="store_fixture_list.selectPage(store_fixture_list.currentPage - 1)">← Previous</a>
                                                    </li>
                                                    <li ng-repeat="page in store_fixture_list.pages" ng-class="{active: store_fixture_list.page == store_fixture_list.currentPage}" >
                                                        <a href="" ng-click="store_fixture_list.selectPage(store_fixture_list.page)">{{page}}</a>
                                                    </li>
                                                    <li class="next" ng-class="{disabled: store_fixture_list.currentPage == store_fixture_list.pages.length}">
                                                        <a href="" ng-click="store_fixture_list.selectPage(store_fixture_list.currentPage + 1)">Next → </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div><!-- /.box-body -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="box no-border collapsed-box">
                    <div class="box-header">
                        <h3 class="box-title">Notes</h3>
						<div class="box-tools pull-right">
							<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus box-title"></i>
							</button>
						</div>
                    </div>
                    <div class="box-body overhidden">
                        <div class="form-group" ng-class="{'has-error': store_error.note.length != 0}">
                            <textarea ck-editor ng-model="store.note" id="store_note"></textarea>
                            <span class="control-label" for="inputError" ng-show="store_error.note.length != 0" ng-repeat="error in store_error.note">
                                <i class="fa fa-times-circle-o"></i> Error: {{error}}
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="box no-border collapsed-box">
                    <div class="box-header">
                        <h3 class="box-title">Photos and documents</h3>
						<div class="box-tools pull-right">
							<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus box-title"></i>
							</button>
						</div>
                    </div>
                    <div class="box-body overhidden">
                        <file-uploader file-ids="store.tmp_file_ids" model-id="store.id" sendemail="true" email-files = "email.documents"></file-uploader>
                    </div>
                </div>
            </div>
            
            <div class="col-md-12">
                <p class="text-dark-blue text-center">Please click on + to expand section</p>
            </div>
        </div>
    </section>
</div>

<div class="modal" id="formStoreSignageModal" tabindex="-1" role="dialog" aria-labelledby="formStoreSignageModalLabel" aria-hidden="true" >
    <div class="modal-dialog" style="width: 700px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Add signage to Store</h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <form role="form">

                        <div class="row form-group" ng-class="{'has-error': store_signage_form.store_signage_error.signage_id.length != 0 && store_signage_form.store_signage_error.signage_id != undefined}">
                            <div class="col-md-3 text-right">
                                <label for="">Signage</label> </br>
                            </div>
                            <div class="col-md-9">
                                <input ampautocomplete ng-model="store_signage_form.store_signage.signage_id" type="text" class="form-control" placeholder="" id="Search_Signage_id" data-source="/signage/getAll" ui-option="'signages'" ui-id="'id'" ui-name="'code'" search-field="'code'" ui-modellabel="store_signage_form.store_signage.signage_code">
                                <span class="control-label" for="inputError" ng-show="store_signage_form.store_signage_error.signage_id.length != 0 && store_signage_form.store_signage_error.signage_id != undefined" ng-repeat="error in store_signage_form.store_signage_error.signage_id">
                                    <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                </span>
                            </div>
                        </div>

                        <div class="hidden row form-group" ng-class="{'has-error': store_signage_form.store_signage_error.code.length != 0 && store_signage_form.store_signage_error.code != undefined}">
                            <div class="col-md-3 text-right">
                                <label for="">Code detail</label> </br>
                            </div>
                            <div class="col-md-9">
                                <input ng-model="store_signage_form.store_signage.code" type="text" class="form-control" placeholder="unique code">
                                <span class="control-label" for="inputError" ng-show="store_signage_form.store_signage_error.code.length != 0 && store_signage_form.store_signage_error.code != undefined" ng-repeat="error in store_signage_form.store_signage_error.code">
                                    <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                </span>
                            </div>
                        </div>

<!--                        <div class="row form-group" ng-class="{'has-error': store_signage_form.store_signage_error.note.length != 0 && store_signage_form.store_signage_error.note != undefined}">
                            <div class="col-md-3 text-right">
                                <label for="">Note</label> </br>
                            </div>
                            <div class="col-md-9">
                                <textarea ng-model="store_signage_form.store_signage.note" type="text" class="form-control" placeholder="note something"></textarea>
                                <span class="control-label" for="inputError" ng-show="store_signage_form.store_signage_error.note.length != 0 && store_signage_form.store_signage_error.note != undefined" ng-repeat="error in store_signage_form.store_signage_error.note">
                                    <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                </span>
                            </div>
                        </div>-->
                        
                        <div class="row form-group" ng-class="{'has-error': store_signage_form.store_signage_error.signage_quantity.length != 0 && store_signage_form.store_signage_error.signage_quantity != undefined}">
                            <div class="col-md-3 text-right">
                                <label for="">Signage Quantity</label> </br>
                            </div>
                            <div class="col-md-9">
                                <input ng-model="store_signage_form.store_signage.signage_quantity" type="text" class="form-control" placeholder="signage quantity">
                                <span class="control-label" for="inputError" ng-show="store_signage_form.store_signage_error.signage_quantity.length != 0 && store_signage_form.store_signage_error.signage_quantity != undefined" ng-repeat="error in store_signage_form.store_signage_error.signage_quantity">
                                    <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                </span>
                            </div>
                        </div>    
                        <div class="row form-group">

                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <div class="row">
                        <button type="button" class="btn btn-primary pull-left" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" ng-click="store_signage_form.saveStoreSignage()">Submit</button>
                    </div>
                </div>
            </div><!-- /.modal-content -->
        </div>
    </div>
</div>

<div class="modal" id="formStoreFixtureModal" tabindex="-1" role="dialog" aria-labelledby="formStoreFixtureModalLabel" aria-hidden="true" >
    <div class="modal-dialog" style="width: 700px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Add fixture to Store</h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <form role="form">

                        <div class="row form-group" ng-class="{'has-error': store_fixture_form.store_fixture_error.fixture_id.length != 0 && store_fixture_form.store_fixture_error.fixture_id != undefined}">
                            <div class="col-md-3 text-right">
                                <label for="">Fixture</label> </br>
                            </div>
                            <div class="col-md-9">
                                <input ampautocomplete ng-model="store_fixture_form.store_fixture.fixture_id" type="text" class="form-control" placeholder="" id="Search_Fixture_id" data-source="/fixture/getAll" ui-option="'fixtures'" ui-id="'id'" ui-name="'code'" search-field="'code'" ui-modellabel="store_fixture_form.store_fixture.fixture_code">
                                <span class="control-label" for="inputError" ng-show="store_fixture_form.store_fixture_error.fixture_id.length != 0 && store_fixture_form.store_fixture_error.fixture_id != undefined" ng-repeat="error in store_fixture_form.store_fixture_error.fixture_id">
                                    <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                </span>
                            </div>
                        </div>

                        <div class="hidden row form-group" ng-class="{'has-error': store_fixture_form.store_fixture_error.code.length != 0 && store_fixture_form.store_fixture_error.code != undefined}">
                            <div class="col-md-3 text-right">
                                <label for="">Code detail</label> </br>
                            </div>
                            <div class="col-md-9">
                                <input ng-model="store_fixture_form.store_fixture.code" type="text" class="form-control" placeholder="unique code">
                                <span class="control-label" for="inputError" ng-show="store_fixture_form.store_fixture_error.code.length != 0 && store_fixture_form.store_fixture_error.code != undefined" ng-repeat="error in store_fixture_form.store_fixture_error.code">
                                    <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                </span>
                            </div>
                        </div>

                        <div class="row form-group" ng-class="{'has-error': store_fixture_form.store_fixture_error.note.length != 0 && store_fixture_form.store_fixture_error.note != undefined}">
                            <div class="col-md-3 text-right">
                                <label for="">Note</label> </br>
                            </div>
                            <div class="col-md-9">
                                <textarea ng-model="store_fixture_form.store_fixture.note" type="text" class="form-control" placeholder="note something"></textarea>
                                <span class="control-label" for="inputError" ng-show="store_fixture_form.store_fixture_error.note.length != 0 && store_fixture_form.store_fixture_error.note != undefined" ng-repeat="error in store_fixture_form.store_fixture_error.note">
                                    <i class="fa fa-times-circle-o"></i> Error: {{error}}
                                </span>
                            </div>
                        </div>
                        <div class="row form-group">

                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <div class="row">
                        <button type="button" class="btn btn-primary pull-left" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" ng-click="store_fixture_form.saveStoreFixture()">Submit</button>
                    </div>
                </div>
            </div><!-- /.modal-content -->
        </div>
    </div>
</div>

<div class="modal" id="sendEmailModal" tabindex="-1" role="dialog" aria-labelledby="sendEmailModalLabel" aria-hidden="true" >
    <div class="modal-dialog" style="width: 700px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">{{email_title}}</h4>
            </div>
            <div class="modal-body overhidden">
                <div class="row form-group">
                    <div class="col-md-2">
                        <label>From</label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" class="form-control" ng-model="email.from" disabled="" />
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-md-2">
                        <label>To</label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" class="form-control" ng-model="email.to" />
                        <span class="small">emails separated by comma</span>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-md-2">
                        <label>Subject</label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" class="form-control" ng-model="email.subject" />
                    </div>
                </div>
                <hr />
                <label>Message</label>
                <textarea class="form-control" ng-model="email.content" style="height: 200px" ></textarea>
                <hr />
                <a target="_blank" title="attachment" href="{{document.absolute_url}}" class="email_attachment" ng-repeat="document in email.documents">
                    <span class="glyphicon glyphicon-paperclip" aria-hidden="true"></span>
                    {{document.filename}}.{{document.extension}}</a>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" ng-click="sendEmail()">Send Email</button>
                <button type="button" class="btn btn-primary pull-left" data-dismiss="modal">Close</button>
            </div>
        </div><!-- /.modal-content -->
    </div>
</div>